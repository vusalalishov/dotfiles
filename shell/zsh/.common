set -o vi
. /usr/local/opt/asdf/libexec/asdf.sh
hidutil property --set '{"UserKeyMapping":[{"HIDKeyboardModifierMappingSrc":0x700000064,"HIDKeyboardModifierMappingDst":0x700000000}]}' >/dev/null 2>&1

# fd - cd to selected directory
fd() {
  local dir
  dir=$(find ${1:-.} -path '*/\.*' -prune \
                  -o -type d -print 2> /dev/null | fzf +m) &&
  cd "$dir"
}

# fh - search in command history and execute selected command
fh() {
  local command
  command=$( ([ -n "$ZSH_NAME" ] && fc -l 1 || history) | fzf +s --tac | sed 's/ *[0-9]* *//')
  print -s "$command"
  eval "$command"
}

grr() {
  local remote_branch 
  remote_branch=$(git branch -r | fzf)
  if [[ -n "${remote_branch// }" ]]
  then
    local command
    command="git checkout -b $1 --track $remote_branch"
    echo $command
    eval "$command"
  else
    echo "The branch name is empty!"
  fi
}
